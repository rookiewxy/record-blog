<!DOCTYPE HTML>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="2021年7月18日, rookie">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>2021年7月18日 | rookie</title>
    <link rel="icon" type="image/png" href="/record-blog/favicon.png">

    <link rel="stylesheet" type="text/css" href="/record-blog/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/record-blog/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/record-blog/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/record-blog/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/record-blog/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/record-blog/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/record-blog/css/my.css">

    <script src="/record-blog/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.0"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/record-blog/" class="waves-effect waves-light">
                    
                    <img src="/record-blog/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">rookie</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/record-blog/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/record-blog/tags/React" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/record-blog/categories/log" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>日志</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/record-blog/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>存档</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="Search" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/record-blog/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">rookie</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/record-blog/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/record-blog/tags/React" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/record-blog/categories/log" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			日志
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/record-blog/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			存档
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/record-blog/medias/featureimages/14.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">2021年7月18日</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/record-blog/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/record-blog/tags/%E5%85%B6%E4%BB%96/">
                                <span class="chip bg-color">其他</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2021-07-18
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/record-blog/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h4 id="一、JS代码规范"><a href="#一、JS代码规范" class="headerlink" title="一、JS代码规范"></a><strong>一、JS代码规范</strong></h4><h6 id="1-关于命名"><a href="#1-关于命名" class="headerlink" title="1.关于命名"></a>1.关于命名</h6><p>普通命名采用小驼峰式命名</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> userName <span class="token operator">=</span> <span class="token string">'jack'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>命名是复数的时候需要加 s，比如说我想声明一个数组</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> names <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>每个常量都需命名，这样更利于别人读懂含义</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// good</span>
<span class="token keyword">const</span> <span class="token constant">COL_NUM</span> <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">let</span> row <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>num <span class="token operator">/</span> <span class="token constant">COL_NUM</span><span class="token punctuation">)</span>

<span class="token comment">// bad</span>
<span class="token keyword">let</span> row <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>num <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>命名需要符合语义化，如果函数命名，可以采用加上动词前缀：</p>
<ul>
<li>can 判断是否可执行某个动作</li>
<li>has 判断是否含有某个值</li>
<li>is 判断是否为某个值</li>
<li>get 获取某个值</li>
<li>set 设置某个值</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//是否可阅读</span>
<span class="token keyword">function</span> <span class="token function">canRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
   <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">//获取姓名</span>
<span class="token keyword">function</span> getName<span class="token punctuation">&#123;</span>
   <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="2-关于字符串"><a href="#2-关于字符串" class="headerlink" title="2.关于字符串"></a>2.关于字符串</h6><p>统一使用双引号</p>
<p>用字符串模板而不是 ‘+’ 来拼接字符串</p>
<h6 id="3-关于数组"><a href="#3-关于数组" class="headerlink" title="3.关于数组"></a>3.关于数组</h6><p>用字面量赋值</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// bad</span>
<span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>用扩展运算符做数组浅拷贝</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// bad</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length
<span class="token keyword">const</span> copyArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  copyArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> copyArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>用 Array.from 去将一个类数组对象转成一个数组。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> arrLike <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">'baz'</span><span class="token punctuation">,</span> length<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">&#125;</span>

<span class="token comment">// bad</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arrLike<span class="token punctuation">)</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrLike<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="4-关于对象"><a href="#4-关于对象" class="headerlink" title="4.关于对象"></a>4.关于对象</h6><p>创建对象和数组推荐使用字面量</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// good</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token string">'男'</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// bad</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Tom'</span>
obj<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">15</span>
obj<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">'男'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ES6 使用属性值缩写</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> lukeSkywalker <span class="token operator">=</span> <span class="token string">'Luke Skywalker'</span>

<span class="token comment">// bad</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  lukeSkywalker<span class="token operator">:</span> lukeSkywalker<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// good</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  lukeSkywalker<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>对象浅拷贝时，更推荐使用扩展运算符 …，而不是 Object.assign。解构赋值获取对象指定的几个属性时，推荐用 rest 运算符(…)。</p>
<h6 id="5-关于函数"><a href="#5-关于函数" class="headerlink" title="5.关于函数"></a>5.关于函数</h6><p>函数参数使用默认值替代使用条件语句进行赋值。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// good</span>
<span class="token keyword">function</span> <span class="token function">createMicrobrewery</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">'Jack'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
   <span class="token operator">...</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// bad</span>
<span class="token keyword">function</span> <span class="token function">createMicrobrewery</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> userNameName <span class="token operator">=</span> name <span class="token operator">||</span> <span class="token string">'Jack'</span>
   <span class="token operator">...</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>函数参数使用结构语法，函数参数越少越好，如果参数超过两个，要使用 ES6 的解构语法，不用考虑参数的顺序。</p>
<p>把默认参数赋值放在最后</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// bad</span>
<span class="token keyword">function</span> <span class="token function">handleThings</span><span class="token punctuation">(</span><span class="token parameter">opts <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// good</span>
<span class="token keyword">function</span> <span class="token function">handleThings</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> opts <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>尽量使用箭头函数</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// bad</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> y <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> y
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">// good</span>
 <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> y <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> y
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="6-关于模块"><a href="#6-关于模块" class="headerlink" title="6.关于模块"></a>6.关于模块</h6><p>一个入口只 import 一次</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// bad</span>
<span class="token keyword">import</span> foo <span class="token keyword">from</span> <span class="token string">'foo'</span>
<span class="token comment">// … some other imports … //</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> named1<span class="token punctuation">,</span> named2 <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'foo'</span>

<span class="token comment">// good</span>
<span class="token keyword">import</span> foo<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> named1<span class="token punctuation">,</span> named2 <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'foo'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在只有一个导出的模块里，用 export default 更好</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// bad</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token comment">// good</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="7-关于注释"><a href="#7-关于注释" class="headerlink" title="7.关于注释"></a>7.关于注释</h6><p>推荐vscode插件：<a href="https://link.juejin.cn/?target=https://github.com/OBKoro1/koro1FileHeader">koroFileHeader</a></p>
<ul>
<li>文件注释</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">/*
 * @Description: xxx
 * @Autor: wxy
 * @Date: 2021-07-06 14:40:30
 * @LastEditors: wxy
 * @LastEditTime: 2021-07-14 09:44:54
 */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><p>代码块注释</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">/**
 * @description: 
 * @param &#123;boolean&#125; checked
 * @return &#123;*&#125;
 * @author: wxy
 */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>行注释</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// TODO ...</span>
<span class="token comment">// ! ...</span>
<span class="token comment">// FIXME ...</span>
<span class="token comment">// NOTE ...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>下面是一些常用的注释标签</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">/**
 * @author  作者，方便定位    
 * @class（同义词：@constructor）标记类和构造函数    
 * @constant @const常量标记    
 * @description（同义词：@desc） 对内容进行描述    
 * @module 模块名称    
 * @enum 枚举类型标记    
 * @global 全局对象标记    
 * @param 函数参数标记    
 * @returns（同义词：@return）函数返回标记    
 * @this this指向标记    
 * @see 参考链接    
 * @memberof 标记模块间的从属关系    
 * @event 在模板中标记可以被触发的事件，与@fire配合使用
 * @alias 将成员视为具有不同的名称。
 * @Async 表示函数是异步的。
 * @augments（同义词：@extends）指示符号从父符号继承并添加到父符号。
 * @borrows 此对象使用来自另一个对象的内容。
 * @callback 回调函数。
 * @copyright 版权信息。
 * @default （同义词: @defaultvalue） 默认值。
 * @example 示例。
 */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

</li>
</ul>
<h6 id="8-eslint规范"><a href="#8-eslint规范" class="headerlink" title="8.eslint规范"></a>8.<a target="_blank" rel="noopener" href="https://eslint.org/">eslint</a>规范</h6><p>.eslintrc.js文件配置的代码：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token string">"off"</span> or <span class="token number">0</span> ：关闭规则<span class="token punctuation">;</span>
<span class="token string">"warn"</span> or <span class="token number">1</span> ：将规则视为一个警告（不会影响退出码）<span class="token punctuation">;</span>
<span class="token string">"error"</span> or <span class="token number">2</span> <span class="token function">：将规则视为一个错误</span> <span class="token punctuation">(</span>退出码为<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 开启推荐配置信息</span>
    <span class="token comment">// "extends": "eslint:recommended",</span>
    <span class="token comment">// 默认情况下，ESLint 会在所有父级目录里寻找配置文件，一直到根目录。如果你想要你所有项目都遵循一个特定的约定时，这将会很有用，但有时候会导致意想不到的结果。为了将 ESLint 限制到一个特定的项目，在你项目根目录下的 package.json 文件或者 .eslintrc.* 文件里的 eslintConfig 字段下设置 "root": true。ESLint 一旦发现配置文件中有 "root": true，它就会停止在父级目录中寻找。</span>
    <span class="token string">"root"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// 脚本在执行期间访问的额外的全局变量</span>
    <span class="token comment">// 当访问未定义的变量时，no-undef 规则将发出警告。如果你想在一个文件里使用全局变量，推荐你定义这些全局变量，这样 ESLint 就不会发出警告了。你可以使用注释或在配置文件中定义全局变量。</span>
    <span class="token string">"globals"</span> <span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"window"</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">"document"</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">"$"</span><span class="token operator">:</span><span class="token boolean">true</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token comment">// 设置插件</span>
    <span class="token comment">// "plugins": [</span>
    <span class="token comment">//     'html'</span>
    <span class="token comment">// ],</span>
    <span class="token comment">// 设置解析器选项（必须设置这个属性）</span>
    <span class="token string">"parserOptions"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"ecmaVersion"</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token string">"sourceType"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
        <span class="token string">"ecmaFeatures"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token string">"jsx"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// "arrowFunctions": true,</span>
            <span class="token comment">// "experimentalObjectRestSpread": true,</span>
            <span class="token comment">// "classes": true,</span>
            <span class="token comment">// "modules": true,</span>
            <span class="token comment">// "defaultParams": true</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token comment">// 启用的规则及各自的错误级别</span>
    <span class="token string">"rules"</span> <span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token string">'indent'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 缩进使用两个空格的宽度</span>
        <span class="token string">'no-console'</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">// 禁止用console</span>
        <span class="token string">'semi'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'always'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> omitLastInOneLineBlock<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 使用分号结束语句，除了语句块独占一行</span>
        <span class="token string">'no-redeclare'</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">// 在同一个作用域中禁止多次重复定义</span>
        <span class="token string">'no-unneeded-ternary'</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 禁止使用没有必要的三目运算符，?: 通常出现在返回结果是一个布尔值，和单个变量之间的比较（直接赋值或者使用||运算符）</span>
        <span class="token string">'no-unused-vars'</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 禁止申明一个变量，但不使用</span>
        <span class="token string">'no-use-before-define'</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 禁止在变量，函数，类申明前使用</span>
        <span class="token string">'keyword-spacing'</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 关键词前后要加空格</span>
        <span class="token string">'comma-spacing'</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 逗号运算符两边空格：前面不加，后面加</span>
        <span class="token string">'no-dupe-keys'</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">//对象字面量不定义重复的属性</span>
        <span class="token string">'no-duplicate-case'</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// switch语句中不定义重复的case分支</span>
        <span class="token string">'no-eq-null'</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 不使用 == 或 != 操作符与null进行比较</span>
        <span class="token string">'no-inner-declarations'</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 嵌套代码块中禁止定义函数或使用var声明变量</span>
        <span class="token string">'no-var'</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 使用let或者const 代替 var</span>
        <span class="token string">'no-this-before-super'</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 使用 this 前请确保 super() 已调用</span>
        <span class="token string">'no-undef'</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 对于未声明的变量引用会导致警告</span>
        <span class="token string">'no-unreachable'</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// return，throw，continue 和 break 后不要再跟代码</span>
        <span class="token string">'eqeqeq'</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 使用 === 代替 ==</span>
        <span class="token string">'quotes'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'double'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 除需要转义的情况外，字符串统一使用双引号</span>
        <span class="token string">'use-isnan'</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 判断类型是不是NAN使用isNaN()</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token comment">// 指定你想启用的环境</span>
    <span class="token string">"env"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token string">"browser"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">"node"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>   <span class="token comment">//babel  eslint都是babel公司出的</span>
    <span class="token string">"parser"</span><span class="token operator">:</span> <span class="token string">"babel-eslint"</span><span class="token comment">//配置解析es6</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="二、css"><a href="#二、css" class="headerlink" title="二、css"></a><strong>二、css</strong></h4><h6 id="1-BEM规范"><a href="#1-BEM规范" class="headerlink" title="1.BEM规范"></a>1.<a target="_blank" rel="noopener" href="http://www.divcss5.com/css3-style/c56988.shtml">BEM规范</a></h6><ul>
<li><p>block：模块，名字单词间用 - 连接</p>
</li>
<li><p>element：元素，模块的子元素，以 __ 与 block 连接</p>
</li>
<li><p>modifier：修饰，模块的变体，定义特殊模块，以 – 与 block 连接</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* 举个例子 */</span>
<span class="token selector">.block__element</span> <span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.block--modifier</span> <span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



</li>
</ul>
<h6 id="2-初始化规范"><a href="#2-初始化规范" class="headerlink" title="2.初始化规范"></a>2.初始化规范</h6><p>各浏览器厂商的初始样式都不一样，为了消除不同浏览器对 HTML 文本呈现的差异，我们常引入一些初始化样式，如 normalize.css、reset.css 等，当对于这些样式的引入我们需要注意下面几种情况：</p>
<ul>
<li>不使用 UI 框架，由零开始搭建<br> 从零开始搭建的情况下，进行样式初始化，在项目最开始的时候就引入，不要在开发中途引入，避免不可预知的样式冲突。</li>
<li>不使用 UI 框架，但使用了部分插件<br> 插件往往都带有自己特有的样式，如富文本插件，在开发中途使用初始化样式有可能导致样式错乱，所以不建议大范围的初始化，只需<code>简单进行初始化</code>即可。</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">* &#123;
  padding: 0;
  margin: 0;
&#125;
复制代码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>已使用 UI 框架<br> 在明确知道需要使用 UI 框架的时候，<code>不使用第三方初始化样式</code>，不管是在项目开始前还是进行中，因为 UI 框架一般都自带初始化，额外引入了反而会影响原有效果。</li>
</ul>
<h6 id="3-避免重绘重排"><a href="#3-避免重绘重排" class="headerlink" title="3.避免重绘重排"></a>3.避免重绘重排</h6><p>当发生重排的时候，浏览器需要重新计算布局位置与大小，不利于性能优化。</p>
<p>常见引起重绘重排属性和方法</p>
<ul>
<li><p>添加或者删除可见的 <code>DOM</code> 元素；</p>
</li>
<li><p>元素尺寸改变——边距、填充、边框、宽度和高度</p>
</li>
<li><p>内容变化，比如用户在 <code>input</code> 框中输入文字</p>
</li>
<li><p>浏览器窗口尺寸改变——<code>resize</code> 事件发生时</p>
</li>
<li><p>计算 <code>offsetWidth</code> 和 <code>offsetHeight</code> 属性</p>
</li>
<li><p>设置 <code>style</code> 属性的值</p>
</li>
</ul>
<p>减少重绘重排的方法</p>
<ul>
<li><p>使用 <code>transform</code> 替代 <code>top</code></p>
</li>
<li><p>使用 <code>visibility</code> 替换 <code>display: none</code> ，因为前者只会引起重绘，后者会引发回流（改变了布局）</p>
</li>
<li><p>不要把节点的属性值放在一个循环里当成循环里的变量。</p>
</li>
<li><p>不要使用 <code>table</code> 布局，可能很小的一个小改动会造成整个 <code>table</code> 的重新布局</p>
</li>
<li><p>动画实现的速度的选择，动画速度越快，回流次数越多，也可以选择使用 <code>requestAnimationFrame</code></p>
</li>
<li><p>CSS 选择符从右往左匹配查找，避免节点层级过多</p>
</li>
</ul>
<h6 id="4-颜色"><a href="#4-颜色" class="headerlink" title="4.颜色"></a>4.颜色</h6><p>建议不使用命名色值。推荐vscode插件<strong>Color Highlight</strong></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* good */</span>
<span class="token selector">.button--success</span> <span class="token punctuation">&#123;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #90ee90<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/* bad */</span>
<span class="token selector">.button--success</span> <span class="token punctuation">&#123;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> lightgreen<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="5-字体排版"><a href="#5-字体排版" class="headerlink" title="5.字体排版"></a>5.字体排版</h6><ol>
<li><p>字号</p>
<p>因为 Windows 的字体渲染机制，小于 12px 的文字显示效果极差、难以辨认。所以在 Windows 平台显示的中文内容，其字号应不小于 12px。</p>
</li>
</ol>
<p>2.字重</p>
<p>font-weight 属性建议使用数值方式描述。</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"> <span class="token comment">/* good */</span>
<span class="token selector">h1</span> <span class="token punctuation">&#123;</span>
   <span class="token property">font-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">/* bad */</span>
<span class="token selector">h1</span> <span class="token punctuation">&#123;</span>
   <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>3.行高</p>
<p>line-height 在定义文本段落时，应使用数值。将line-height 设置为数值，浏览器会基于当前元素设置的 font-size 进行再次计算。在不同字号的文本段落组合中，能达到较为舒适的行间间隔效果，避免在每个设置了 font-size 都需要设置line-height。如果line-height 用于控制垂直居中，应该设置成与容器高度一致。</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"> <span class="token comment">/* good */</span>
 <span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
   <span class="token property">line-height</span><span class="token punctuation">:</span> 1.5<span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span>
 

<span class="token comment">/* bad */</span>
<span class="token selector">.container</span> <span class="token punctuation">&#123;</span>
   <span class="token property">line-height</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
 <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="三、图片"><a href="#三、图片" class="headerlink" title="三、图片"></a><strong>三、图片</strong></h4><h6 id="1-使用恰当的图片格式。"><a href="#1-使用恰当的图片格式。" class="headerlink" title="1.使用恰当的图片格式。"></a>1.使用恰当的图片格式。</h6><ul>
<li>jpg：适用于内容图片多为照片之类的。</li>
<li>png：适用于而饰图片，通常更适合用无损压缩。</li>
<li>gif： 基本上除了 gif 动画外不要使用。</li>
<li>webP：大大减小图片的体积，但是移动端有兼容性问题。</li>
</ul>
<h6 id="2-使用雪碧图"><a href="#2-使用雪碧图" class="headerlink" title="2.使用雪碧图"></a>2.使用雪碧图</h6><p>雪碧图，<code>CSS Sprites</code>，国内也叫 CSS 精灵，是一种 CSS 图像合成技术，主要用于小图片显示。</p>
<p>雪碧图的优点是把诸多小图片合成一张大图，利用<code>backround-position</code>属性值来确定图片呈现的位置，这样就能减少 http 请求，到达性能优化的效果。</p>
<h6 id="3-使用-iconfont"><a href="#3-使用-iconfont" class="headerlink" title="3.使用 iconfont"></a>3.使用 iconfont</h6><p><code>iconfont</code>(字体图标)，即通过字体的方式展示图标，多用于渲染图标、简单图形、特殊字体等。</p>
<p>使用 <code>iconfont</code> 时，由于只需要引入对应的字体文件即可，这种方法可有效减少 HTTP 请求次数，而且一般字体体积较小，所以请求传输数据量较少。与直接引入图片不同，<code>iconfont</code> 可以像使用字体一样，设置大小、颜色及其他样式，且不存在失真的情况。</p>
<h6 id="4-图片懒加载"><a href="#4-图片懒加载" class="headerlink" title="4.图片懒加载"></a>4.图片懒加载</h6><p>图片过多时，可以使用图片懒加载，原理就是暂时不设置图片的 <code>src</code> 属性，而是将图片的 <code>url</code> 隐藏起来，比如先写在 <code>data-src</code> 里面，等某些事件触发的时候(比如滚动到底部，点击加载图片)再将图片真实的 <code>url</code> 放进 <code>src</code> 属性里面，从而实现图片的延迟加载。</p>
<h4 id="四、React"><a href="#四、React" class="headerlink" title="四、React"></a><strong>四、React</strong></h4><h6 id="1-项目目录结构"><a href="#1-项目目录结构" class="headerlink" title="1.项目目录结构"></a>1.项目目录结构</h6><pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
A[src]--&gt;assets[assets]
A--&gt;components[components]
A--&gt;config[config]
A--&gt;hook[hook]
hook--&gt;useLoading[useLoading.tsx]
A--&gt;layout[layout]
A--&gt;pages[pages]
A--&gt;router[router]
A--&gt;a[style]
a--&gt;color[color.less]
a--&gt;size[font-size.less]
a--&gt;mixin[mixin]
mixin--&gt;scroll-bar[scroll-bar.less]
a--&gt;theme[theme]
theme--&gt;dark[dark.less]
A--&gt;utils[utils]
utils--&gt;request[request.ts]
A--&gt;srevices[srevices]
srevices--&gt;user[user.ts]
A--&gt;store[store]
A--&gt;mock[mock]
A--&gt;constants[constants]
constants--&gt; routes[routes.ts]
components --&gt; components1[components1]
components1--&gt;tsx[components1.tsx]
components1--&gt;less[components1.less]
config --&gt; routerconfig[router.config.js]
assets--&gt;icons[icons]
assets--&gt;images[images]
assets--&gt;font[font]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="2-基础规则"><a href="#2-基础规则" class="headerlink" title="2.基础规则"></a>2.基础规则</h6><ul>
<li><strong>一个文件声明一个组件：</strong>尽管可以在一个文件中声明多个 React 组件，但是最好不要这样做；推荐一个文件声明一个 React 组件，并只导出一个组件；</li>
<li><strong>推荐使用函数组件</strong></li>
</ul>
<h6 id="3-组件声明"><a href="#3-组件声明" class="headerlink" title="3.组件声明"></a>3.组件声明</h6><p>组件名称和定义该组件的文件名称建议要保持一致；</p>
<pre class="line-numbers language-react" data-language="react"><code class="language-react">&#x2F;&#x2F; good
import Footer from &#39;.&#x2F;Footer&#39;;

&#x2F;&#x2F;bad
import Footer from &#39;.&#x2F;Footer&#x2F;index&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在src目录下的componets文件推荐使用推荐使用大驼峰命名，在pages中生命的文件采用小写和<code>-</code>符号连接</p>
<h6 id="4-JSX写法注意"><a href="#4-JSX写法注意" class="headerlink" title="4.JSX写法注意"></a>4.JSX写法注意</h6><ol>
<li><p>当标签没有子元素的时候，始终使用自闭合的标签 </p>
<pre class="line-numbers language-react" data-language="react"><code class="language-react">&#x2F;&#x2F; good
&lt;Component &#x2F;&gt;

&#x2F;&#x2F; bad
&lt;Component&gt;&lt;&#x2F;Component&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>如果标签有多行属性，关闭标签要另起一行 。</p>
<pre class="line-numbers language-react" data-language="react"><code class="language-react">&#x2F;&#x2F; good
&lt;Component
  bar&#x3D;&quot;bar&quot;
  baz&#x3D;&quot;baz&quot; 
&#x2F;&gt;

&#x2F;&#x2F;bad
&lt;Component
  bar&#x3D;&quot;bar&quot;
  baz&#x3D;&quot;baz&quot; &#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



</li>
</ol>
<p>3.在自闭标签之前留一个空格</p>
<pre class="line-numbers language-react" data-language="react"><code class="language-react">&#x2F;&#x2F; good
&lt;Foo &#x2F;&gt;

&#x2F;&#x2F;bad
&lt;Foo&#x2F;&gt;

&lt;Foo                 &#x2F;&gt;

&lt;Foo
 &#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>4.当组件跨行时，要用括号包裹 JSX 标签。</p>
<pre class="line-numbers language-react" data-language="react"><code class="language-react">&#x2F;&#x2F; good
  render() &#123;
    return (
      &lt;MyComponent className&#x3D;&quot;long body&quot; foo&#x3D;&quot;bar&quot;&gt;
        &lt;MyChild &#x2F;&gt;
      &lt;&#x2F;MyComponent&gt;
    );
  &#125;

&#x2F;&#x2F; bad
  render() &#123;
    return &lt;MyComponent className&#x3D;&quot;long body&quot; foo&#x3D;&quot;bar&quot;&gt;
             &lt;MyChild &#x2F;&gt;
           &lt;&#x2F;MyComponent&gt;;
  &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="5-样式写法"><a href="#5-样式写法" class="headerlink" title="5.样式写法"></a>5.样式写法</h6><p>React 中样式可以使用 style 行内样式，也可以使用 className 属性来引用外部 CSS 样式表中定义的 CSS 类，推荐使用 className 来定义样式。使用less 来替换传统的 CSS 写法,需要动态修改样式时，推荐使用classnames插件</p>
<h4 id="五、Hooks-组件注意事项"><a href="#五、Hooks-组件注意事项" class="headerlink" title="五、Hooks 组件注意事项"></a>五、Hooks 组件注意事项</h4><p>首先我们需要满足 React 官方声明的 hooks 两个规则: <a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-rules.html">https://reactjs.org/docs/hooks-rules.html</a></p>
<h6 id="1-不要在循环中声明-hooks-钩子"><a href="#1-不要在循环中声明-hooks-钩子" class="headerlink" title="1.不要在循环中声明 hooks 钩子"></a>1.不要在循环中声明 hooks 钩子</h6><pre class="line-numbers language-react" data-language="react"><code class="language-react">&#x2F;&#x2F; bad

function Form(&#123;isHaveName&#125;) &#123;
  if (isHaveName) &#123;
    var [name, setName] &#x3D; useState(&#39;Mary&#39;);
  &#125;

  render &lt;div&gt;&#123;name&#125;&lt;&#x2F;div&gt;
&#125;
&#x2F;&#x2F; good

function Form(&#123;isHaveName&#125;) &#123;
  const [name, setName] &#x3D; useState(isHaveName ? &#39;Mary&#39; : &#39;&#39;);

  render &lt;div&gt;&#123;name&#125;&lt;&#x2F;div&gt;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="2-请在-React-函数的顶层声明-Hooks"><a href="#2-请在-React-函数的顶层声明-Hooks" class="headerlink" title="2.请在 React 函数的顶层声明 Hooks"></a>2.请在 React 函数的顶层声明 Hooks</h6><pre class="line-numbers language-react" data-language="react"><code class="language-react">&#x2F;&#x2F; bad

function Form() &#123;
  const [name, setName] &#x3D; useState(&quot;Mary&quot;);

  useEffect(function persistForm() &#123;
    localStorage.setItem(&quot;formData&quot;, name);
  &#125;);

  const [surname, setSurname] &#x3D; useState(&quot;Poppins&quot;);

  useEffect(function updateTitle() &#123;
    document.title &#x3D; name + &quot; &quot; + surname;
  &#125;);
&#125;
&#x2F;&#x2F; good

function Form() &#123;
  const [name, setName] &#x3D; useState(&quot;Mary&quot;);

  const [surname, setSurname] &#x3D; useState(&quot;Poppins&quot;);

  useEffect(function persistForm() &#123;
    localStorage.setItem(&quot;formData&quot;, name);
  &#125;);

  useEffect(function updateTitle() &#123;
    document.title &#x3D; name + &quot; &quot; + surname;
  &#125;);
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="3-使用-useCallback-和useMemo减少重绘"><a href="#3-使用-useCallback-和useMemo减少重绘" class="headerlink" title="3.使用 useCallback 和useMemo减少重绘"></a>3.使用 useCallback 和useMemo减少重绘</h6><p>如果是容易被频繁渲染的组件, 如列表中的组件, 请务必编写 useCallback, 并且限定激发更新的对象, 以减少重绘</p>
<pre class="line-numbers language-react" data-language="react"><code class="language-react">&#x2F;&#x2F; bad
import React from &quot;react&quot;;

function RenderItem(&#123; title &#125;) &#123;
  return &lt;div&gt;&#123;title&#125;&lt;&#x2F;div&gt;;
&#125;
&#x2F;&#x2F; good
import React, &#123; useCallback &#125; from &quot;react&quot;;

function RenderItem(&#123; title &#125;) &#123;
  return useCallback(&lt;div&gt;&#123;title&#125;&lt;&#x2F;div&gt;, [title]);
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="4-运算量大的语句请放入-useEffect-中-并加以条件限制"><a href="#4-运算量大的语句请放入-useEffect-中-并加以条件限制" class="headerlink" title="4.运算量大的语句请放入 useEffect 中, 并加以条件限制"></a>4.运算量大的语句请放入 <code>useEffect</code> 中, 并加以条件限制</h6><pre class="line-numbers language-react" data-language="react"><code class="language-react">&#x2F;&#x2F; bad

function TargetComponent(&#123; data &#125;) &#123;
  &#x2F;&#x2F; 较大数据的遍历操作
  const nextData &#x3D; data.map(fn);

  return &lt;OtherComponent data&#x3D;&#123;nextData&#125; &#x2F;&gt;;
&#125;
&#x2F;&#x2F; good

function TargetComponent(&#123; data &#125;) &#123;
  const [nextData, setNextData] &#x3D; useState([]);

  useEffect(()&#x3D;&gt;&#123;
    &#x2F;&#x2F; 较大数据的遍历操作, 只有在 data 改变时才进行计算
    setNextData(data.map(fn))
  &#125;, [data])

  return &lt;OtherComponent data&#x3D;&#123;nextData&#125; &#x2F;&gt;
&#125;
&#x2F;&#x2F; best

&#x2F;&#x2F; 将 hooks 抽离成 hooks函数
function useNextData(&#123; data &#125;)&#123;
    const [nextData, setNextData] &#x3D; useState([]);

  useEffect(()&#x3D;&gt;&#123;
    setNextData(data.map(fn))
  &#125;, [data])

  return [nextData, setNextData]
&#125;

function TargetComponent(&#123; data &#125;) &#123;
  const [nextData, setNextData] &#x3D; useNextData();

  return &lt;OtherComponent data&#x3D;&#123;nextData&#125; &#x2F;&gt;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="5-复杂的-state-逻辑-请抽离成-hooks函数"><a href="#5-复杂的-state-逻辑-请抽离成-hooks函数" class="headerlink" title="5.复杂的 state 逻辑, 请抽离成 hooks函数"></a>5.复杂的 state 逻辑, 请抽离成 <code>hooks函数</code></h6><pre class="line-numbers language-react" data-language="react"><code class="language-react">&#x2F;&#x2F; bad

function TargetComponent(&#123; url, options &#125;) &#123;
  const [data, setData] &#x3D; useState([]);

  useEffect(async ()&#x3D;&gt;&#123;
    cosnt data &#x3D; await fetch(url, options);
    setData(data)
  &#125;, [])

  function handleOnUpdateData (nextOptions) &#123;
    cosnt data &#x3D; await fetch(url, nextOptions);
    setData(data)
  &#125;

  return &lt;OtherComponent data&#x3D;&#123;data&#125; onChange&#x3D;&#123;handleOnUpdateData&#125; &#x2F;&gt;
&#125;
&#x2F;&#x2F; best

&#x2F;&#x2F; 将状态逻辑抽离至 hooks 文件夹内
import useFetchData from &quot;src&#x2F;hooks&#x2F;useFetchData&quot;;

function TargetComponent(&#123; url, options &#125;) &#123;
  &#x2F;&#x2F; 复用 state 逻辑, 是 hooks 最重要的意义
  const [data, updateData] &#x3D; useFetchData(url, options);

  return &lt;OtherComponent data&#x3D;&#123;data&#125; onChange&#x3D;&#123;updateData&#125; &#x2F;&gt;;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="六、提交规范"><a href="#六、提交规范" class="headerlink" title="六、提交规范"></a>六、提交规范</h4><p>多人协作的项目中，在提交代码这个环节，也存在一种情况：不能保证每个人对提交信息的准确描述，因此会出现提交信息紊乱、风格不一致的情况。</p>
<p>如果 <code>git commit</code> 的描述信息精准，在后期维护和 Bug 处理时会变得有据可查，项目开发周期内还可以根据规范的提交信息快速生成开发日志，从而方便我们追踪项目和把控进度。</p>
<h6 id="1-type说明"><a href="#1-type说明" class="headerlink" title="1. type说明"></a>1. type说明</h6><table>
<thead>
<tr>
<th align="left">值</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">feat</td>
<td align="left">新增一个功能</td>
</tr>
<tr>
<td align="left">fix</td>
<td align="left">修复一个bug</td>
</tr>
<tr>
<td align="left">docs</td>
<td align="left">文档变更</td>
</tr>
<tr>
<td align="left">style</td>
<td align="left">代码格式（不影响功能，例如空格、分号等格式修正）</td>
</tr>
<tr>
<td align="left">refactor</td>
<td align="left">代码重构</td>
</tr>
<tr>
<td align="left">perf</td>
<td align="left">改善性能</td>
</tr>
<tr>
<td align="left">test</td>
<td align="left">测试</td>
</tr>
<tr>
<td align="left">build</td>
<td align="left">变更项目构建或外部依赖（例如scopes: webpack、gulp、npm等）</td>
</tr>
<tr>
<td align="left">ci</td>
<td align="left">更改持续集成软件的配置文件和package中的script命令，例如scopes: Travis、Circle等</td>
</tr>
<tr>
<td align="left">chore</td>
<td align="left">变更构建流程或辅助工具</td>
</tr>
<tr>
<td align="left">revert</td>
<td align="left">代码回退</td>
</tr>
</tbody></table>
<h6 id="2-scope说明"><a href="#2-scope说明" class="headerlink" title="2.scope说明"></a>2.scope说明</h6><p>scope 用于指定本次 commit 影响的范围。scope 依据项目而定，例如在业务项目中可以依据菜单或者功能模块划分，如果是组件库开发，则可以依据组件划分。（scope 可省略）</p>
<h6 id="3-subject说明"><a href="#3-subject说明" class="headerlink" title="3.subject说明"></a>3.subject说明</h6><p>subject 是本次 commit 的简洁描述，长度约定在 50 个字符以内，通常遵循以下几个规范：</p>
<ul>
<li>用动词开头，第一人称现在时表述，例如：change 代替 changed 或 changes</li>
<li>第一个字母小写</li>
<li>结尾不加句号（.）</li>
</ul>
<h6 id="4-body"><a href="#4-body" class="headerlink" title="4.body"></a>4.body</h6><p>body 是对本次 commit 的详细描述，可以分成多行。（body 可省略）</p>
<p>跟 subject 类似，用动词开头，body 应该说明修改的原因和更改前后的行为对比。</p>
<h6 id="5-规范-commit-message-的好处"><a href="#5-规范-commit-message-的好处" class="headerlink" title="5.规范 commit message 的好处"></a>5.规范 commit message 的好处</h6><ul>
<li>首行就是简洁实用的关键信息，方便在 git history 中快速浏览。</li>
<li>具有更加详细的 body 和 footer，可以清晰的看出某次提交的目的和影响。</li>
<li>可以通过 type 过滤出想要查找的信息，也可以通过关键字快速查找相关提交。</li>
<li>可以直接从 commit 生成 change log。</li>
</ul>
<h5 id="集成-Commitizen和cz-conventional-changelog"><a href="#集成-Commitizen和cz-conventional-changelog" class="headerlink" title="集成 Commitizen和cz-conventional-changelog"></a>集成 Commitizen和cz-conventional-changelog</h5><pre class="line-numbers language-js" data-language="js"><code class="language-js">yarn add commitizen cz<span class="token operator">-</span>conventional<span class="token operator">-</span>changelog <span class="token constant">D</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ol>
<li><p>在 <code>package.json</code> 中增加了 <code>config.commitizen</code></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token string">"config"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  <span class="token string">"commitizen"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token string">"path"</span><span class="token operator">:</span> <span class="token string">"./node_modules/cz-conventional-changelog"</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>以前我们使用的是<code>git commit -m &quot;msg&quot;</code>，现在改为<code>git cz</code>，然后按照终端提示，逐步输入信息，就能自动生成规范的commit message</p>
</li>
</ol>
<img src="https://z3.ax1x.com/2021/07/20/WYgg5d.png">

<h5 id="自定义配置提交说明"><a href="#自定义配置提交说明" class="headerlink" title="自定义配置提交说明"></a>自定义配置提交说明</h5><p>上面的截图可以看到，<code>git cz</code> 终端操作提示都是英文的，如果想改成中文的或者自定义这些配置选项，我们使用 <strong>cz-customizable</strong> 适配器。</p>
<ol>
<li><p>安装cz-customizable</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">yarn add cz<span class="token operator">-</span>customizable <span class="token operator">-</span><span class="token constant">D</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>修改 <code>package.json</code> 中的 <code>config.commitizen</code> 字段</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token string">"config"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
  <span class="token string">"commitizen"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token string">"path"</span><span class="token operator">:</span> <span class="token string">"./node_modules/cz-customizable"</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>在根目录下新建<code>.cz-config.js</code>文件，配置中文</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// type 类型（定义之后，可通过上下键选择）</span>
  types<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span> value<span class="token operator">:</span> <span class="token string">'feat'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'feat:     新增功能'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> value<span class="token operator">:</span> <span class="token string">'fix'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'fix:      修复 bug'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> value<span class="token operator">:</span> <span class="token string">'docs'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'docs:     文档变更'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
      value<span class="token operator">:</span> <span class="token string">'style'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'style:    代码格式（不影响功能，例如空格、分号等格式修正）'</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
      value<span class="token operator">:</span> <span class="token string">'refactor'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'refactor: 代码重构（不包括 bug 修复、功能新增）'</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> value<span class="token operator">:</span> <span class="token string">'perf'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'perf:     性能优化'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> value<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'test:     添加、修改测试用例'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
      value<span class="token operator">:</span> <span class="token string">'build'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'build:    构建流程、外部依赖变更（如升级 npm 包、修改 webpack 配置等）'</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> value<span class="token operator">:</span> <span class="token string">'ci'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'ci:       修改 CI 配置、脚本'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
      value<span class="token operator">:</span> <span class="token string">'chore'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'chore:    对构建过程或辅助工具和库的更改（不影响源文件、测试用例）'</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> value<span class="token operator">:</span> <span class="token string">'revert'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'revert:   回滚 commit'</span> <span class="token punctuation">&#125;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
      
  <span class="token comment">// scope 类型（定义之后，可通过上下键选择）</span>
  scopes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">'components'</span><span class="token punctuation">,</span> <span class="token string">'组件相关'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'hooks'</span><span class="token punctuation">,</span> <span class="token string">'hook 相关'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'utils'</span><span class="token punctuation">,</span> <span class="token string">'utils 相关'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'element-ui'</span><span class="token punctuation">,</span> <span class="token string">'对 element-ui 的调整'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'styles'</span><span class="token punctuation">,</span> <span class="token string">'样式相关'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'deps'</span><span class="token punctuation">,</span> <span class="token string">'项目依赖'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'auth'</span><span class="token punctuation">,</span> <span class="token string">'对 auth 修改'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">'other'</span><span class="token punctuation">,</span> <span class="token string">'其他修改'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 如果选择 custom，后面会让你再输入一个自定义的 scope。也可以不设置此项，把后面的 allowCustomScopes 设置为 true</span>
    <span class="token punctuation">[</span><span class="token string">'custom'</span><span class="token punctuation">,</span> <span class="token string">'以上都不是？我要自定义'</span><span class="token punctuation">]</span>
  <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>value<span class="token punctuation">,</span> description<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      value<span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>value<span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> (</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>description<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      
  <span class="token comment">// 是否允许自定义填写 scope，在 scope 选择的时候，会有 empty 和 custom 可以选择。</span>
  <span class="token comment">// allowCustomScopes: true,</span>
      
  <span class="token comment">// allowTicketNumber: false,</span>
  <span class="token comment">// isTicketNumberRequired: false,</span>
  <span class="token comment">// ticketNumberPrefix: 'TICKET-',</span>
  <span class="token comment">// ticketNumberRegExp: '\\d&#123;1,5&#125;',</span>
      
  <span class="token comment">// 针对每一个 type 去定义对应的 scopes，例如 fix</span>
  <span class="token comment">/*
  scopeOverrides: &#123;
    fix: [
      &#123; name: 'merge' &#125;,
      &#123; name: 'style' &#125;,
      &#123; name: 'e2eTest' &#125;,
      &#123; name: 'unitTest' &#125;
    ]
  &#125;,
  */</span>
      
  <span class="token comment">// 交互提示信息</span>
  messages<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    type<span class="token operator">:</span> <span class="token string">'确保本次提交遵循 Angular 规范！\n选择你要提交的类型：'</span><span class="token punctuation">,</span>
    scope<span class="token operator">:</span> <span class="token string">'\n选择一个 scope（可选）：'</span><span class="token punctuation">,</span>
    <span class="token comment">// 选择 scope: custom 时会出下面的提示</span>
    customScope<span class="token operator">:</span> <span class="token string">'请输入自定义的 scope：'</span><span class="token punctuation">,</span>
    subject<span class="token operator">:</span> <span class="token string">'填写简短精炼的变更描述：\n'</span><span class="token punctuation">,</span>
    body<span class="token operator">:</span> <span class="token string">'填写更加详细的变更描述（可选）。使用 "|" 换行：\n'</span><span class="token punctuation">,</span>
    breaking<span class="token operator">:</span> <span class="token string">'列举非兼容性重大的变更（可选）：\n'</span><span class="token punctuation">,</span>
    footer<span class="token operator">:</span> <span class="token string">'列举出所有变更的 ISSUES CLOSED（可选）。 例如: #31, #34：\n'</span><span class="token punctuation">,</span>
    confirmCommit<span class="token operator">:</span> <span class="token string">'确认提交？'</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      
  <span class="token comment">// 设置只有 type 选择了 feat 或 fix，才询问 breaking message</span>
  allowBreakingChanges<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'feat'</span><span class="token punctuation">,</span> <span class="token string">'fix'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      
  <span class="token comment">// 跳过要询问的步骤</span>
  skipQuestions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'body'</span><span class="token punctuation">,</span> <span class="token string">'footer'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      
  subjectLimit<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token comment">// subject 限制长度</span>
  breaklineChar<span class="token operator">:</span> <span class="token string">'|'</span> <span class="token comment">// 换行符，支持 body 和 footer</span>
  <span class="token comment">// footerPrefix : 'ISSUES CLOSED:'</span>
  <span class="token comment">// askForBreakingChangeFirst : true,</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="4">
<li>再次使用<code>git cz</code>，提示信息变为中文</li>
</ol>
</li>
</ol>
<img src="https://z3.ax1x.com/2021/07/20/WYgjx0.png">
                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        Author:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/record-blog/about" rel="external nofollow noreferrer">wxy</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        Link:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://rookiewxy.github.io/record-blog/2021/07/18/20210718/">https://rookiewxy.github.io/record-blog/2021/07/18/20210718/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        Reprint policy:
                    </i>
                </span>
                <span class="reprint-info">
                    All articles in this blog are used except for special statements
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    reprint policy. If reproduced, please indicate source
                    <a href="/record-blog/about" target="_blank">wxy</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/record-blog/tags/%E5%85%B6%E4%BB%96/">
                                    <span class="chip bg-color">其他</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/record-blog/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/record-blog/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/record-blog/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/record-blog/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/record-blog/2021/07/19/202005/">
                    <div class="card-image">
                        
                        
                        <img src="/record-blog/medias/featureimages/5.jpg" class="responsive-img" alt="2020年5月">
                        
                        <span class="card-title">2020年5月</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-07-19
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            wxy
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/record-blog/tags/React/">
                        <span class="chip bg-color">React</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/record-blog/2021/06/23/20210623/">
                    <div class="card-image">
                        
                        
                        <img src="/record-blog/medias/featureimages/3.jpg" class="responsive-img" alt="2021年6月23日">
                        
                        <span class="card-title">2021年6月23日</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-06-23
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            wxy
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/record-blog/tags/React/">
                        <span class="chip bg-color">React</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/record-blog/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/record-blog/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/record-blog/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/record-blog/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/record-blog/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/record-blog/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/record-blog/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2019-2021</span>
            
            <span id="year">2019</span>
            <a href="/record-blog/about" target="_blank">wxy</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;Total visits:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;Total visitors:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/blinkfox" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1181062873@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1181062873" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/record-blog/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/record-blog/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/record-blog/libs/materialize/materialize.min.js"></script>
    <script src="/record-blog/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/record-blog/libs/aos/aos.js"></script>
    <script src="/record-blog/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/record-blog/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/record-blog/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/record-blog/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/record-blog/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/record-blog/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
