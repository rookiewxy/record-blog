#### 8/1
1. 今天遇到一个很奇葩的问题在bi打包的时候报错了一个关于rollup错误但是应该也是和node挂钩的，我什么都没有改，为什么今天打包就报错了，原因是我升级了@xt-plugins/fusion3d中的相关依赖，导致bi里面的pnpm-lock中的依赖版本发生了变化，导致报错，发现每次发生node相关的报错一般都是版本问题
2. (255 & s) / 255, (s >> 8 & 255) / 255, (s >> 16 & 255) / 255
```ts
function extractRGB(colorInt) {
  let red = (255 & colorInt) / 255;
  let green = (colorInt >> 8 & 255) / 255;
  let blue = (colorInt >> 16 & 255) / 255;
  return { red, green, blue };
}

// 假设你有一个 32 位整数代表一个颜色值
let colorInt = 0xFF00FF; // 例如，紫色

// 使用函数提取颜色通道值
let rgb = extractRGB(colorInt);

// 打印结果
console.log(rgb); // 输出 { red: 1, green: 0, blue: 1 } 
```

#### 8/3
1. 8/1打包报错问题的根本原因是package.json的依赖版本，因为很多版本前面是^符号，导致依赖版本和之前不一致的情况，
[^,~](https://zhuanlan.zhihu.com/p/696216350)，`^`会安装或升级到最新的小版本。大版本号是指非零首位,血泪的教训，以后安装依赖不用使用`^`符号，直接用固定版本

#### 8/5
1. Modbus TCP/RTU 和 MQTT 都是工业领域常用的通信协议，但它们的设计目标和应用场景有所不同。

**Modbus TCP/RTU**

* **设计目标:** 主要用于工业自动化领域，专注于数据采集和控制，例如读取传感器数据、控制设备等。[1](https://www.inhand.com/en/support/blogs/modbus-rtu-vs-modbus-tcp-ip/)
* **通信方式:** 基于主从模式，一个主设备可以控制多个从设备。[1](https://www.inhand.com/en/support/blogs/modbus-rtu-vs-modbus-tcp-ip/)
* **应用场景:** 适用于需要可靠的数据传输和控制的场景，例如工厂自动化、过程控制等。[1](https://www.inhand.com/en/support/blogs/modbus-rtu-vs-modbus-tcp-ip/)
* **数据格式:** 使用固定格式的数据帧，包含地址、功能码、数据等信息。[1](https://www.inhand.com/en/support/blogs/modbus-rtu-vs-modbus-tcp-ip/)

**MQTT**

* **设计目标:** 主要用于物联网领域，专注于轻量级、高效的通信，例如将传感器数据发送到云端、接收控制指令等。[2](https://www.emqx.com/en/blog/mqtt-vs-websocket)
* **通信方式:** 基于发布/订阅模式，多个设备可以订阅同一个主题，发布者可以向订阅者发布消息。[2](https://www.emqx.com/en/blog/mqtt-vs-websocket)
* **应用场景:** 适用于需要低功耗、高连接数、实时性强的场景，例如智能家居、智慧农业等。[2](https://www.emqx.com/en/blog/mqtt-vs-websocket)
* **数据格式:** 使用 JSON 格式的灵活数据，可以自定义消息内容。[2](https://www.emqx.com/en/blog/mqtt-vs-websocket)

**区别总结：**

| 特性 | Modbus TCP/RTU | MQTT |
|---|---|---|
| 设计目标 | 工业自动化 | 物联网 |
| 通信方式 | 主从模式 | 发布/订阅模式 |
| 应用场景 | 工厂自动化、过程控制 | 智能家居、智慧农业 |
| 数据格式 | 固定格式 | JSON 格式 |
| 复杂度 | 相对复杂 | 相对简单 |
| 资源消耗 | 相对高 | 相对低 |

**选择建议：**

* 如果您的应用需要可靠的数据传输和控制，并且主要用于工业自动化领域，那么 Modbus TCP/RTU 是更好的选择。
* 如果您的应用需要低功耗、高连接数、实时性强，并且主要用于物联网领域，那么 MQTT 是更好的选择。

最终选择哪种协议取决于您的具体应用需求。



